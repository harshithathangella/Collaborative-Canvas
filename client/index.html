<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Collaborative Canvas</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- â”€â”€â”€ Room Join Screen â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="room-screen" class="screen">
    <div class="join-card">
      <h1>ðŸŽ¨ Collaborative Canvas</h1>
      <p>Draw together in real time</p>

      <div class="input-group">
        <label for="user-name-input">Your Name</label>
        <input type="text" id="user-name-input" placeholder="e.g. Alice" maxlength="30" />
      </div>

      <div class="input-group">
        <label for="room-name-input">Room Name</label>
        <input type="text" id="room-name-input" placeholder="e.g. my-drawing" value="default" maxlength="50" />
      </div>

      <button id="join-btn" class="btn-join">Join Room</button>
      <p class="hint">Share the room name with others to draw together</p>
    </div>
  </div>

  <!-- â”€â”€â”€ Canvas Screen â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="canvas-screen" class="screen" style="display: none;">
    <div class="room-info">
  <span id="current-room-label"></span>
  <button id="copy-room-link-btn" class="copy-link-btn" title="Copy room link">
    ðŸ“‹ Copy Room Link
  </button>
</div>

    <!-- Top Bar -->
    <div class="top-bar">
      <div class="top-bar-left">
        <span class="room-label">Room: <strong id="current-room-label">default</strong></span>
      </div>
      <div class="top-bar-right">
        <div id="status-msg" class="status-msg info" style="opacity: 0;"></div>
      </div>
    </div>

    <!-- Main Layout -->
    <div class="main-layout">
    <div id="connection-status" class="connection-status connecting">
  <span class="status-dot"></span>
  <span id="status-text">Connecting...</span>
</div>
      <!-- Left Toolbar -->
      <aside class="toolbar">

        <!-- Tools -->
        <div class="tool-group">
          <div class="tool-group-label">Tools</div>
          <button class="tool-btn active" data-tool="brush" title="Brush (B)">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M12 19l7-7 3 3-7 7-3-3z"/><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/></svg>
          </button>
          <button class="tool-btn" data-tool="eraser" title="Eraser (E)">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M20 20H7"/><path d="M6.5 13.5L11 9l4 4-4.5 4.5a2 2 0 01-2.83 0l-1.17-1.17a2 2 0 010-2.83z"/><path d="M15 9l-2-2"/></svg>
          </button>
        </div>

        <!-- Colors -->
        <div class="tool-group">
          <div class="tool-group-label">Colors</div>
          <div class="color-grid">
            <button class="color-btn active" data-color="#000000" style="background:#000000" title="Black"></button>
            <button class="color-btn" data-color="#e74c3c" style="background:#e74c3c" title="Red"></button>
            <button class="color-btn" data-color="#3498db" style="background:#3498db" title="Blue"></button>
            <button class="color-btn" data-color="#2ecc71" style="background:#2ecc71" title="Green"></button>
            <button class="color-btn" data-color="#f39c12" style="background:#f39c12" title="Orange"></button>
            <button class="color-btn" data-color="#9b59b6" style="background:#9b59b6" title="Purple"></button>
            <button class="color-btn" data-color="#e91e63" style="background:#e91e63" title="Pink"></button>
            <button class="color-btn" data-color="#1abc9c" style="background:#1abc9c" title="Teal"></button>
            <button class="color-btn" data-color="#ffffff" style="background:#ffffff; border: 1px solid #ccc;" title="White"></button>
          </div>
        </div>

        <!-- Width -->
        <div class="tool-group">
          <div class="tool-group-label">Width: <span id="width-display">4px</span></div>
          <input type="range" id="width-slider" min="1" max="40" value="4" class="width-range" />
        </div>

        <!-- Undo / Redo -->
        <div class="tool-group">
          <div class="tool-group-label">History</div>
          <div class="undo-redo-btns">
            <button id="undo-btn" class="tool-btn" title="Undo (Ctrl+Z)">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 7h11a5 5 0 015 5v1"/><path d="M3 7l4 4M3 7l4-4"/></svg>
            </button>
            <button id="redo-btn" class="tool-btn" title="Redo (Ctrl+Shift+Z)">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 7H10a5 5 0 00-5 5v1"/><path d="M21 7l-4 4m4-4l-4-4"/></svg>
            </button>
          </div>
          <div class="shortcut-hint">Ctrl+Z / Ctrl+Shift+Z</div>
        </div>

      </aside>

      <!-- Canvas Area -->
      <div class="canvas-container">
        <canvas id="main-canvas"></canvas>
        <canvas id="interaction-canvas"></canvas>
      </div>

      <!-- Right Panel: User List -->
      <aside class="user-panel">
        <div class="user-panel-header">ðŸ‘¥ Online</div>
        <ul id="user-list"></ul>
      </aside>

    </div>
  </div>

  <!-- Socket.io client library (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/socket.io-client@4.7.4/dist/socket.io.min.js"></script>

  <!-- App scripts (order matters) -->
  <script src="websocket.js"></script>
  <script src="canvas.js"></script>
  <script src="main.js"></script>

</body>
</html>
